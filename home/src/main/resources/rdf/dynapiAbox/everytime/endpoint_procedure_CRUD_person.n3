@prefix rdf:  			<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  			<http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:   			<http://www.w3.org/2002/07/owl#> .
@prefix vitro: 			<http://vitro.mannlib.cornell.edu/ns/vitro/0.7#> .
@prefix dynapi: 		<https://vivoweb.org/ontology/vitro-dynamic-api#> .
@prefix dynapi_java: 	        <java:edu.cornell.mannlib.vitro.webapp.dynapi.components#> .
@prefix xsd: 			<http://www.w3.org/2001/XMLSchema#> .

###############################################
### N3 TEMPLATE PARTIAL ENTITY CREATION
###############################################

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_subject>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/persons> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:N3TextAdditions   		"?uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person> . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_first_name>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person first name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/first_name> ;
        dynapi:N3TextAdditions   		"?uri <http://www.w3.org/2006/vcard/ns#givenName> ?first_name . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_middle_name>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person middle name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/middle_name> ;
        dynapi:N3TextAdditions   		"?uri <http://vivoweb.org/ontology/core#middleName> ?middle_name . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_last_name>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person last name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/last_name> ;
        dynapi:N3TextAdditions   		"?uri <http://www.w3.org/2006/vcard/ns#familyName> ?last_name . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_type>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person type N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/type> ;
        dynapi:N3TextAdditions   		"?uri <http://xmlns.com/foaf/0.1/Person> ?type . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_internal_id>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person internal id N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/internalID> ;
        dynapi:N3TextAdditions   		"?uri <http://vivoweb.org/ontology/core#identifier> ?internalID . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_orcid>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person ORCID N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/ORCID> ;
        dynapi:N3TextAdditions   		"?uri <http://vivoweb.org/ontology/core#orcidId> ?ORCID . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_scopus_id>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person SCOPUS author ID N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/SCOPUSAuthorID> ;
        dynapi:N3TextAdditions   		"?uri <http://vivoweb.org/ontology/core#scopusId> ?SCOPUSAuthorID . " .

<https://vivoweb.org/procedure/create_person/execute_template/n3_template_researcher_id>
        a                        		dynapi:operation, dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"create person researcher ID N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/uri> ;
        dynapi:requiresParameter                <https://vivoweb.org/procedure/person/parameter/ResearcherID> ;
        dynapi:N3TextAdditions   		"?uri <http://vivoweb.org/ontology/core#researcherId> ?ResearcherID . " .

###############################################
### N3 TEMPLATE PARTIAL ENTITY DELETION
###############################################

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_first_name>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person first name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://www.w3.org/2006/vcard/ns#givenName> ?person_for_deleting.0.first_name . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_middle_name>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person middle name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://vivoweb.org/ontology/core#middleName> ?person_for_deleting.0.middle_name . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_last_name>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person last name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://www.w3.org/2006/vcard/ns#familyName> ?person_for_deleting.0.last_name . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_type>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person last name N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://xmlns.com/foaf/0.1/Person> ?person_for_deleting.0.type . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_internal_id>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person internal id N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://vivoweb.org/ontology/core#identifier> ?person_for_deleting.0.internalID . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_orcid>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person orcid N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://vivoweb.org/ontology/core#orcidId> ?person_for_deleting.0.ORCID . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_scopus_id>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person SCOPUS author ID N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://vivoweb.org/ontology/core#scopusId> ?person_for_deleting.0.SCOPUSAuthorID . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_researcher_id>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person researcher ID N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://vivoweb.org/ontology/core#researcherId> ?person_for_deleting.0.ResearcherID . " .

<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_subject>
        a                        		dynapi:operation, dynapi:N3Template ;
        rdfs:label               		"delete person N3 Template"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/abox_assertions> ;
        dynapi:requiresParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:N3TextRetractions                "?person_for_deleting.0.uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person> . " .

###############################################
### CREATE
###############################################

<https://vivoweb.org/procedure/create_person>
        a                        		dynapi:Procedure ;
        rdfs:label               		"Create a person"@en-US ;
        dynapi:hasFirstStep 			<https://vivoweb.org/procedure/create_person/creation_properties/step1> ;
        dynapi:providesParameter                <https://vivoweb.org/procedure/person/parameter/uri>  .

<https://vivoweb.org/procedure/create_person/creation_properties/step1>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_subject> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step2> .

<https://vivoweb.org/procedure/create_person/creation_properties/step2>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_first_name> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step3> .

<https://vivoweb.org/procedure/create_person/creation_properties/step3>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_middle_name> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step4> .

<https://vivoweb.org/procedure/create_person/creation_properties/step4>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_last_name> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step5> .

<https://vivoweb.org/procedure/create_person/creation_properties/step5>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_type> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step6> .

<https://vivoweb.org/procedure/create_person/creation_properties/step6>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_internal_id> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step7> .

<https://vivoweb.org/procedure/create_person/creation_properties/step7>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_orcid> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step8> .

<https://vivoweb.org/procedure/create_person/creation_properties/step8>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_scopus_id> ;
	dynapi:hasNextStep			<https://vivoweb.org/procedure/create_person/creation_properties/step9> .

<https://vivoweb.org/procedure/create_person/creation_properties/step9>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"creation of a person step 1"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/create_person/execute_template/n3_template_researcher_id> .

###############################################
### READ (all)
###############################################

<https://vivoweb.org/procedure/read_persons>
        a                                       dynapi:Procedure ;
        rdfs:label                              "Fetching persons"@en-US ;
        dynapi:providesParameter                <https://vivoweb.org/ontology/person/parameter/persons> ;
        dynapi:providesParameter 		<https://vivoweb.org/ontology/person/parameter/count>;
        dynapi:hasFirstStep 			<https://vivoweb.org/procedure/read_persons/fetching_properties/step> .

<https://vivoweb.org/procedure/read_persons/fetching_properties/step>
        a                                       dynapi:Step, dynapi:operationalStep ;
        rdfs:label                              "fetch persons step"@en-US ;
        dynapi:hasOperation 		        <https://vivoweb.org/procedure/read_persons/fetching_properties/sparql_select_query> ;
	dynapi:hasNextStep			<https://vivoweb.org/ontology/read_persons/statistics/step> .

<https://vivoweb.org/procedure/read_persons/fetching_properties/sparql_select_query>
        a                                       dynapi:SparqlSelectQuery ;
        rdfs:label                              "read persons sparql query"@en-US ;
        dynapi:hasModel 			<https://vivoweb.org/ontology/vitro-dynamic-api/model/full_union> ;
        dynapi:providesParameter 		<https://vivoweb.org/ontology/person/parameter/persons> ;
        dynapi:requiresParameter 	        <https://vivoweb.org/ontology/person/parameter/limit> ;
        dynapi:requiresParameter                <https://vivoweb.org/ontology/person/parameter/offset> ;
        dynapi:requiresPlainParameter           <https://vivoweb.org/ontology/person/parameter/sortBy> ;
        dynapi:requiresPlainParameter           <https://vivoweb.org/ontology/person/parameter/order> ;
        dynapi:sparqlQueryText
        """
        SELECT ?uri ?first_name ?middle_name ?last_name ?type ?internalID ?ORCID ?SCOPUSAuthorID ?ResearcherID
            WHERE
                {
                      ?uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person>
                      OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#givenName> ?first_name }
                      OPTIONAL { ?uri <http://vivoweb.org/ontology/core#middleName> ?middle_name }
                      OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#familyName> ?last_name }
                      OPTIONAL { ?uri <http://xmlns.com/foaf/0.1/Person> ?type }
                      OPTIONAL { ?uri <http://vivoweb.org/ontology/core#identifier> ?internalID }
                      OPTIONAL { ?uri <http://vivoweb.org/ontology/core#orcidId> ?ORCID }
                      OPTIONAL { ?uri <http://vivoweb.org/ontology/core#scopusId> ?SCOPUSAuthorID }
                      OPTIONAL { ?uri <http://vivoweb.org/ontology/core#researcherId> ?ResearcherID }
                }
            ORDER BY ?order(??sortBy)
            LIMIT ?limit OFFSET ?offset
        """ .

<https://vivoweb.org/ontology/read_persons/statistics/step>
        a                               dynapi:Step, dynapi:operationalStep ;
        rdfs:label                      "number of persons step "@en-US ;
        dynapi:hasOperation 		<https://vivoweb.org/ontology/read_persons/statistics/sparql_query> .

<https://vivoweb.org/ontology/read_persons/statistics/sparql_query>
        a                               dynapi:SparqlSelectQuery ;
        rdfs:label                      "number of persons sparql query 1"@en-US ;
        dynapi:hasModel 		<https://vivoweb.org/ontology/vitro-dynamic-api/model/full_union> ;
        dynapi:providesParameter 	<https://vivoweb.org/ontology/person/parameter/count> ;
        dynapi:sparqlQueryText
        """
        SELECT (count(distinct ?uri) as ?total)
            WHERE
                {
                    ?uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person>
                }
        """ .

###############################################
### READ (one)
###############################################

<https://vivoweb.org/ontology/read_person>
        a                               dynapi:Procedure ;
        rdfs:label                      "Fetching a person"@en-US ;
        dynapi:providesParameter 	<https://vivoweb.org/ontology/person/parameter/persons> ;
        dynapi:hasFirstStep 		<https://vivoweb.org/procedure/read_person/fetching_properties/step> .

<https://vivoweb.org/procedure/read_person/fetching_properties/step>
        a                        	dynapi:Step, dynapi:operationalStep ;
        rdfs:label               	"reading of a person"@en-US ;
        dynapi:hasOperation 		<https://vivoweb.org/procedure/read_person/fetching_properties/sparql_query> .

<https://vivoweb.org/procedure/read_person/fetching_properties/sparql_query>
        a                               dynapi:SparqlSelectQuery ;
        rdfs:label                      "read persons sparql query 1"@en-US ;
        dynapi:hasModel 		<https://vivoweb.org/ontology/vitro-dynamic-api/model/full_union> ;
        dynapi:requiresParameter 	<https://vivoweb.org/ontology/person/parameter/resourceId> ;
        dynapi:providesParameter 	<https://vivoweb.org/ontology/person/parameter/persons> ;
        dynapi:sparqlQueryText
        """
        SELECT ?uri ?first_name ?middle_name ?last_name ?type ?internalID ?ORCID ?SCOPUSAuthorID ?ResearcherID
            WHERE
                {
                    ?uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person>
                    OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#givenName> ?first_name }
                    OPTIONAL { ?uri <http://vivoweb.org/ontology/core#middleName> ?middle_name }
                    OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#familyName> ?last_name }
                    OPTIONAL { ?uri <http://xmlns.com/foaf/0.1/Person> ?type }
                    OPTIONAL { ?uri <http://vivoweb.org/ontology/core#identifier> ?internalID }
                    OPTIONAL { ?uri <http://vivoweb.org/ontology/core#orcidId> ?ORCID }
                    OPTIONAL { ?uri <http://vivoweb.org/ontology/core#scopusId> ?SCOPUSAuthorID }
                    OPTIONAL { ?uri <http://vivoweb.org/ontology/core#researcherId> ?ResearcherID }
                    FILTER (?uri = ?resource_id)
                }
        """ .

###############################################
### UPDATE
###############################################

<https://vivoweb.org/ontology/update_person>
        a                                       dynapi:Procedure ;
        rdfs:label                              "Updating a person"@en-US ;
        dynapi:hasFirstStep 		        <https://vivoweb.org/procedure/update_person/fetching_properties/step> .

<https://vivoweb.org/procedure/update_person/fetching_properties/step>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Fetching of a person data for deleting"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/fetching_properties/sparql_query> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step1> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step1>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person first name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_first_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step2> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step2>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person middle name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_middle_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step3> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step3>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person last name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_last_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step4> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step4>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person type"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_type> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step5> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step5>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person internal ID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_internal_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step6> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step6>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person ORCID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_orcid> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step7> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step7>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person SCOPUS author ID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_scopus_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step8> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step8>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person researcher id"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_researcher_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/deleting_properties/step9> .

<https://vivoweb.org/procedure/update_person/deleting_properties/step9>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person entity subject"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_subject> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/update_person/addding_properties/step> .

<https://vivoweb.org/procedure/update_person/addding_properties/step>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Recreation of a person "@en-US ;
        dynapi:hasNextStep 			<https://vivoweb.org/procedure/create_person/creation_properties/step1> .

###############################################
### DELETE
###############################################

<https://vivoweb.org/procedure/delete_person>
        a                        		dynapi:Procedure ;
        rdfs:label               		"Removing of a person"@en-US ;
        dynapi:hasFirstStep 			<https://vivoweb.org/procedure/delete_person/fetching_properties/step> .

<https://vivoweb.org/procedure/delete_person/fetching_properties/step>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               	        "Fetching of a person data for deleting"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/fetching_properties/sparql_query> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step1> .

<https://vivoweb.org/procedure/delete_person/fetching_properties/sparql_query>
        a                                       dynapi:SparqlSelectQuery ;
        rdfs:label                              "Read persons sparql query"@en-US ;
        dynapi:hasModel 		        <https://vivoweb.org/ontology/vitro-dynamic-api/model/full_union> ;
        dynapi:requiresParameter 		<https://vivoweb.org/ontology/person/parameter/resourceId> ;
        dynapi:providesParameter 		<https://vivoweb.org/procedure/person/parameter/person_for_deleting> ;
        dynapi:sparqlQueryText
        """
        SELECT ?uri ?first_name ?middle_name ?last_name ?type ?internalID ?ORCID ?SCOPUSAuthorID ?ResearcherID
            WHERE
            {
                ?uri <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://xmlns.com/foaf/0.1/Person>
                OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#givenName> ?first_name }
                OPTIONAL { ?uri <http://vivoweb.org/ontology/core#middleName> ?middle_name }
                OPTIONAL { ?uri <http://www.w3.org/2006/vcard/ns#familyName> ?last_name }
                OPTIONAL { ?uri <http://xmlns.com/foaf/0.1/Person> ?type }
                OPTIONAL { ?uri <http://vivoweb.org/ontology/core#identifier> ?internalID }
                OPTIONAL { ?uri <http://vivoweb.org/ontology/core#orcidId> ?ORCID }
                OPTIONAL { ?uri <http://vivoweb.org/ontology/core#scopusId> ?SCOPUSAuthorID }
                OPTIONAL { ?uri <http://vivoweb.org/ontology/core#researcherId> ?ResearcherID }
                FILTER (?uri = ?resource_id)
            }
        """ .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step1>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person first name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_first_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step2> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step2>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person middle name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_middle_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step3> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step3>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person last name"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_last_name> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step4> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step4>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person type"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_type> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step5> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step5>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person internal id"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_internal_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step6> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step6>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person ORCID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_orcid> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step7> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step7>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person SCOPUS author ID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_scopus_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step8> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step8>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person researcher ID"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_researcher_id> ;
        dynapi:hasNextStep  			<https://vivoweb.org/procedure/delete_person/deleting_properties/step9> .

<https://vivoweb.org/procedure/delete_person/deleting_properties/step9>
        a                        		dynapi:Step, dynapi:operationalStep ;
        rdfs:label               		"Deleting of a person subject entity"@en-US ;
        dynapi:hasOperation 			<https://vivoweb.org/procedure/delete_person/deleting_properties/n3_template_subject> .

###############################################
### PARAMETERS
###############################################

#####################
## Person response ##
#####################

<https://vivoweb.org/ontology/person/parameter/persons>
        a                                   dynapi:Parameter ;
        rdfs:label                          "persons"@en-US ;
        dynapi:name                         "result" ;
        dynapi:description                  "List of available persons and statistics (number)" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/JsonContainerArray> .

<https://vivoweb.org/ontology/person/parameter/count>
        a                                   dynapi:Parameter ;
        rdfs:label                          "Number of fetched persons"@en-US ;
        dynapi:name                         "count" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/JsonContainer> .

#######################
## Delete parameters ##
#######################

<https://vivoweb.org/ontology/person/parameter/person_for_deleting>
        a                                   dynapi:Parameter ;
        rdfs:label                          "person for deleting"@en-US ;
        dynapi:name                         "stateOrProvinceForDeleting" ;
        dynapi:description                  "List of available persons" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/JsonContainerArray> .

#####################
## Creation fields ##
#####################

<https://vivoweb.org/procedure/person/parameter/uri>
        a                                   dynapi:Parameter ;
        dynapi:name                         "uri" ;
        dynapi:defaultValue                 "http://xmlns.com/foaf/0.1/Person#,java_uuid_number" ;
        dynapi:isInternal                   "true"^^xsd:boolean ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/generated-uri> .

<https://vivoweb.org/procedure/person/parameter/first_name>
        a                                   dynapi:Parameter ;
        dynapi:name                         "first_name" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/middle_name>
        a                                   dynapi:Parameter ;
        dynapi:name                         "middle_name" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/last_name>
        a                                   dynapi:Parameter ;
        dynapi:name                         "last_name" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/type>
        a                                   dynapi:Parameter ;
        dynapi:name                         "type" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/positions>
        a                                   dynapi:Parameter ;
        dynapi:name                         "positions" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/JsonContainerArray> .

<https://vivoweb.org/procedure/person/parameter/internalID>
        a                                   dynapi:Parameter ;
        dynapi:name                         "internalID" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/ORCID>
        a                                   dynapi:Parameter ;
        dynapi:name                         "ORCID" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/SCOPUSAuthorID>
        a                                   dynapi:Parameter ;
        dynapi:name                         "SCOPUSAuthorID" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

<https://vivoweb.org/procedure/person/parameter/ResearcherID>
        a                                   dynapi:Parameter ;
        dynapi:name                         "ResearcherID" ;
        dynapi:hasType                      <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string-literal> .

#########################
## Read request fields ##
#########################

<https://vivoweb.org/ontology/person/parameter/resourceId>
        a                       dynapi:parameter ;
        dynapi:name             "resource_id" ;
        dynapi:hasType          <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/uri> ;
        rdfs:label              "resource uri"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/total>
        a                       dynapi:parameter ;
        dynapi:name             "total" ;
        dynapi:hasType 		<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/integer> ;
        rdfs:label              "total"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/limit>
        a                       dynapi:parameter ;
        dynapi:name             "limit" ;
        dynapi:defaultValue     "20" ;
        dynapi:hasType 		<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/integer> ;
        rdfs:label              "limit"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/offset>
        a                       dynapi:parameter ;
        dynapi:name             "offset" ;
        dynapi:defaultValue     "0" ;
        dynapi:hasType          <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/integer> ;
        rdfs:label              "offset"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/sortBy>
        a                       dynapi:parameter ;
        dynapi:name             "sortBy" ;
        dynapi:defaultValue     "label" ;
        dynapi:hasType 		<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string> ;
        rdfs:label              "sortBy"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/order>
        a                       dynapi:parameter ;
        dynapi:name             "order" ;
        dynapi:defaultValue     "ASC" ;
        dynapi:hasType 		<https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/string> ;
        rdfs:label               "order"@en-US .

<https://vivoweb.org/ontology/vitro-dynamic-api/model/persons>
        a                       dynapi:Model ;
        dynapi:name             "http://xmlns.com/foaf/0.1/Person" ;
        rdfs:label              "persons model"@en-US ;
        dynapi:hasType          <https://vivoweb.org/ontology/vitro-dynamic-api/parameter/type/model> .
